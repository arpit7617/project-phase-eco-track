<!DOCTYPE html>
<html lang="en">
<head>
  <title>EcoTrack - Weather</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

  <nav>
    <a href="/">Home</a>
    <a href="/weather">Weather</a>
    <a href="/aqi">AQI Monitor</a>
    <a href="/community">Community</a>
    <a href="/location">ğŸ“ Live Location</a>
  </nav>

  <h1>Real-Time Weather ğŸŒ¦ï¸</h1>

  <form id="weatherForm" class="weather-form">
    <label for="city">Enter City:</label>
    <input type="text" id="city" name="city" required />
    <button type="submit">Get Weather</button>
  </form>

  <div id="weather-info"></div>

  <script>
    document.getElementById("weatherForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const city = document.getElementById("city").value;

      const res = await fetch(`/weather/api/weather?city=${city}`);
      const data = await res.json();

      if (data.error) {
        document.getElementById("weather-info").innerHTML = "<p>âŒ Weather data not available. Please try again.</p>";
        return;
      }

      document.getElementById("weather-info").innerHTML = `
        <h2>${data.name} Weather</h2>
        <p>ğŸŒ¡ï¸ Temperature: ${data.temp}Â°C</p>
        <p>ğŸŒ¤ï¸ Condition: ${data.condition}</p>
        <p>ğŸ’§ Humidity: ${data.humidity}%</p>
        <p>ğŸŒ¬ï¸ Wind Speed: ${data.wind} m/s</p>
      `;
    });
  </script>

</body>
</html>
